package  {	import flash.events.EventDispatcher;	import flash.events.Event;	import flash.net.GroupSpecifier;	import flash.net.NetConnection;	import flash.net.NetGroup;	import flash.events.NetStatusEvent;	import flash.display.Sprite;		public class WebConnect extends Sprite {		private const SERVER:String = "rtmfp://p2p.rtmfp.net/";		private const DEVKEY:String = "8933e25e35a0130525ad33a3-516c1aa42920";		private var nc:NetConnection;		private var netGroup:NetGroup;		private var user:String;		public var currentScript:String;		public function WebConnect() {			nc = new NetConnection();			nc.addEventListener(NetStatusEvent.NET_STATUS,netStatus);			nc.connect(SERVER+DEVKEY);		}				private function netStatus(event:NetStatusEvent):void {			trace(event.info.code);			switch (event.info.code) {				case "NetConnection.Connect.Success" :					setupGroup();					break;				case "NetGroup.Connect.Success" :					break;				case "NetGroup.Posting.Notify" :					receiveScript(event.info.message);					break;								case "NetGroup.Connect.Closed" :					trace("disconnected");					break;			}		}				private function setupGroup():void {			var groupspec:GroupSpecifier = new GroupSpecifier("iuahi142uehaiwZqwehrrrr");			groupspec.serverChannelEnabled = true;			groupspec.postingEnabled = true;			netGroup = new NetGroup(nc,groupspec.groupspecWithAuthorizations());			netGroup.addEventListener(NetStatusEvent.NET_STATUS,netStatus);			trace("group setupped");		}				public function sendScript(script:String) {			var message:Object = new Object();			message.sender = netGroup.convertPeerIDToGroupAddress(nc.nearID);			//trace(nc.nearID);			message.text = script;			netGroup.post(message);			//receiveMessage(message);			trace("script sent!");		}				private function receiveScript(message) {			currentScript = message.text;			trace("message received!");			dispatchEvent(new Event("scriptReceived"));		}	}	}